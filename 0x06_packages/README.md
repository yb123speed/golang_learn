# Packages

包用于组织go源代码以获得更好的可重用性和可读性。

## main function and main package

每个可执行的go应用程序都必须包含main函数。此函数是执行的入口点。main函数应该驻留在main包中。

指定特定源文件属于包的代码行package packagename。这应该是每个go源文件的第一行。

属于包的源文件应放在自己的单独文件夹中。Go中的一个约定是使用与包名称相同的名称命名此文件夹。

## 导入自定义包

要使用自定义程序包，我们必须先导入它。import path是导入自定义包的语法。我们必须src根据工作区内的文件夹指定自定义包的路径。我们当前的文件夹结构是

```bash
src  
   geometry
           geometry.go
           rectangle
                    rectprops.go
```

该行将`import "geometry/rectangle"`导入矩形包。

Printf中的`%.2f`格式说明符是将浮点数截断为两位小数。

## 导出的名称

我们将包中的函数名大写。这在Go中有特殊意义。任何以大写字母开头的变量或函数都是go中的导出名称。只能导出的函数和变量可以从其他包访问。

## init函数
每个包都可以包含一个init函数。init函数不应该有任何返回类型，不应该有任何参数。在我们的源代码中无法显式调用init函数。init函数如下所示

```go
func init() {  
}
```

init函数可用于执行初始化任务，也可用于在执行开始之前验证程序的正确性。

### 包的初始化顺序如下

1. 首先初始化包级别变量
2. 接下来调用init函数。

一个包可以有多个init函数（在单个文件中或分布在多个文件中），并按照它们呈现给编译器的顺序调用它们。

如果包导入其他包，则首先初始化导入的包。

即使从多个包被导入，也只会初始化一次包。


### main包的初始化顺序是

1. 首先初始化导入的包。
2. 接下来初始化包级别变量。
3. 调用init函数。
4. 最后调用main函数

## 使用空白标识符

Go中导入包并且不在代码中的任何位置使用它是非法的。如果你这样做，编译器会报错。这样做的原因是为了避免未使用的包膨胀，这将显着增加编译时间。
但是，当应用程序处于活动开发状态时导入包很常见，如果不是现在则在代码中的某处使用它们。该可以使用`_`空白标识符。

该线路var _ = rectangle.Area使错误无声。如果不使用包，我们应该跟踪这些错误消音器，并在应用程序开发结束时删除它们，包括导入的包。因此，建议在import语句之后在包级别中编写错误消音器。

有时我们需要导入一个包只是为了确保初始化发生，即使我们不需要使用包中的任何函数或变量。例如，我们可能需要确保调用矩形包的init函数，即使我们在代码中的任何位置都不使用该包。在这种情况下也可以使用_ blank标识符如下所示。

```go
package main 

import (
     _ "geometry/rectangle" 
)
func main() {
}
```